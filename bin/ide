#!/bin/bash

# Calculate the directory where `ide` is located
export IDE_PATH=$(dirname $(dirname $(readlink -f "${BASH_SOURCE[0]}")))

# Get the subcommand, and default to `help` if none given
COMMAND=${1-help}
shift

if [ ! -f "$IDE_PATH/exec/$COMMAND" ]
then
    echo "ERROR: subcommand $COMMAND does not exist" > /dev/stderr
    exit 1
fi

# Execute the subcommand
exec "$IDE_PATH/exec/$COMMAND" "$@"
